<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ACER투자자문 — 신뢰할 수 있는 투자 파트너</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #ffffff;
      --bg-soft:#f6f7fb;
      --ink:#0b1220;
      --muted:#6d768a;
      --brand:#2a5cff;
      --accent:#00b871;
      --card:#ffffff;
      --border: rgba(15,23,42,0.08);
      --shadow: 0 10px 30px rgba(17,24,39,0.08);
      --radius: 16px;
      --maxw: 1180px;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:Pretendard,Inter,sans-serif;color:var(--ink);background:var(--bg)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:var(--maxw);margin:0 auto;padding:0 24px}
    .pill{display:inline-flex;align-items:center;gap:.5rem;height:40px;padding:0 14px;border-radius:999px;background:#0b1020;color:#fff;white-space:nowrap}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem 1rem;border:1px solid var(--border);background:#fff;border-radius:10px;box-shadow:var(--shadow);font-size:.9rem}

    /* Reports */
    .reports{margin-top:24px;display:grid;grid-template-columns:1fr 1fr;gap:22px}
    .report-card{border:1px solid var(--border);border-radius:18px;background:#fff;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column}
    .report-card img{width:100%;height:200px;object-fit:cover}
    .report-card .body{padding:16px;display:flex;flex-direction:column;gap:8px;flex:1}
    .report-card .badge{position:absolute;top:12px;left:12px;padding:6px 10px;border-radius:10px;background:#0b1020;color:#fff;font-size:.8rem}
    .report-card h3{margin:.2rem 0;font-size:1rem}
    .report-card small{color:var(--muted)}

    .list{margin-top:28px;display:grid;gap:12px}
    .list-item{display:grid;grid-template-columns:1fr auto;align-items:center;gap:12px;padding:14px 16px;border:1px solid var(--border);background:#fff;border-radius:12px}
    .list-item b{font-size:.95rem}
    .list-item small{color:var(--muted)}

    @media(max-width:1024px){
      .reports{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;height:64px;">
      <b>ACER투자자문</b>
      <nav style="display:flex;gap:20px;">
        <a href="#strategy">운용전략</a>
        <a href="#team">운용인원</a>
        <a href="#reports">리포트</a>
      </nav>
    </div>
  </header>

  <!-- Hero (간략화) -->
  <section class="hero" style="padding:60px 0;background:var(--bg-soft)">
    <div class="container">
      <h1 style="font-size:2.2rem;font-weight:800;margin-bottom:10px;">신뢰할 수 있는 투자 파트너</h1>
      <p style="color:var(--muted)">80년 이상의 전문 경험과 체계적인 리스크 관리.<br>고객의 자산 증식을 위한 최적의 투자 솔루션.</p>
      <div style="margin-top:16px;"><a class="pill" href="#reports">리포트 보기</a></div>
    </div>
  </section>

  <!-- Reports -->
  <section id="reports" class="section" style="padding:60px 0">
    <div class="container">
      <h2 style="margin-bottom:8px;">리포트 & 인사이트</h2>
      <p class="sub" style="margin-bottom:20px;">업로드된 최신 리포트를 확인하세요.</p>

      <div id="reportGrid" class="reports"></div>
      <div id="reportList" class="list"></div>
    </div>
  </section>

  <!-- Footer -->
  <footer style="margin-top:60px;background:#0b1020;color:#d7deff;padding:30px 0;">
    <div class="container">© 2025 ACER투자자문</div>
  </footer>

  <script>
    const API_FILES = "http://localhost:8080/files"; // 🔥 실제 서버 주소로 교체

    async function loadReports() {
      try {
        const res = await fetch(API_FILES);
        if (!res.ok) throw new Error("서버 응답 오류");
        const files = await res.json();

        const grid = document.getElementById("reportGrid");
        const list = document.getElementById("reportList");
        grid.innerHTML = "";
        list.innerHTML = "";

        if (files.length === 0) {
          grid.innerHTML = "<p>업로드된 리포트가 없습니다.</p>";
          return;
        }

        files.forEach(file => {
          const url = file.url || file;
          const name = file.name ? file.name : decodeURIComponent(url.split("/").pop().split("?")[0]);
          const date = file.lastModified 
            ? new Date(file.lastModified).toLocaleDateString("ko-KR", {year:"numeric",month:"2-digit",day:"2-digit"})
            : new Date().toLocaleDateString("ko-KR");

          // 카드형
          const card = document.createElement("article");
          card.className = "report-card";
          card.innerHTML = `
            <div style="position:relative">
              <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?q=80&w=1600&auto=format&fit=crop" alt="리포트 썸네일"/>
              <span class="badge">리포트</span>
            </div>
            <div class="body">
              <small>📅 ${date}</small>
              <h3>${name}</h3>
              <p class="lead" style="font-size:.9rem;color:var(--muted)">업로드된 리포트 파일입니다.</p>
              <a class="pill" href="${url}" target="_blank" download>다운로드 ⬇</a>
            </div>
          `;
          grid.appendChild(card);

          // 리스트형
          const item = document.createElement("div");
          item.className = "list-item";
          item.innerHTML = `
            <div>
              <b>${name}</b><br>
              <small>📅 ${date}</small>
            </div>
            <a class="btn" href="${url}" target="_blank" download>⬇</a>
          `;
          list.appendChild(item);
        });
      } catch (err) {
        document.getElementById("reportGrid").innerHTML = "<p>리포트 불러오기 실패: " + err + "</p>";
      }
    }

    document.addEventListener("DOMContentLoaded", loadReports);
  </script>
</body>
</html>
